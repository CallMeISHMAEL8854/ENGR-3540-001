clc
clear
close all

Input = [0	42	41	42	41	41	41	41	41	40	36	39	40	40	36	38	39	40	39	39	40	40	38	39	38	38	38	37	38	37	38	38	37	38	39	39	39	39	38	39	39	38	37	39	39	39	40	39	40	40	41	41	41	41	37	41	42	42	43	42	43	43	44	44	45	44	45	45	46	46	46	46	46	47	47	48	47	48	48	48	48	48	49	50	49	50	49	51	51	51	51	51	52	51	51	52	52	52	52	52	53	51	49	53	51	53	50	50	51	52	55	54	55	55	52	54	55	55	56	56	56	55	55	55	56	57	57	57	57	57	56	56	56	57	57	56	56	56	56	55	56	54	55	53	54	50	51	52	54	54	53	53	53	53	52	54	53	53	54	53	53	53	52	52	52	52	52	52	51	51	51	50	51	49	49	49	49	49	49	49	48	48	48	49	47	48	47	47	46	47	47	47	47	47	46	46	46	46	45	46	45	45	45	45	45	45	45	45	44	45	42	44	44	44	44	44	44	45	45	45	44	44	44	44	43	43	44	44	43	43	43	43	43	43	43	43	43	43	43	42	42	42	43	42	42	42	42	42	42	42	42	42	42	42	42	42	42	41	41	41	42	42	42	42	42	42	42	42	42	42	41	42	42	42	42	42	43	42	42	43	43	43	42	43	43	43	43	43	43	44	44	44	44	44	43	44	44	43	43	44	44	43	45	44	45	44	45	45	44	44	45	45	45	45	45	45	44	45	46	45	45	45	44	46	46	46	45	45	45	45	44	46	46	46	47	46	47	47	47	47	47	47	46	48	47	48	48	48	48	48	48	48	47	48	48	48	48	48	47	48	48	48	48	48	48	48	46	48	48	47	48	48	48	47	48	48	48	50	47	49	49	50	48	48	48	48	48	51	51	51	51	51	48	50	49	50	50	49	50	48	50	51	51	52	51	52	51	52	52	52	52	50	52	52	52	52	53	52	53	53	53	52	53	51	52	53	54	53	54	54	54	53	54	55	54	55	54	55	55	56	55	54	55	56	55	55	53	53	55	56	56	55	55	50	55	55	55	55	55	55	55	55	55	55	55	56	55	55	54	55	55	54	51	54	54	53	54	54	51	51	50	54	52	53	53	53	53	49	54	54	53	52	53	50	52	53	52	51	53	52	50	50	51	52	52	53	52	53	51	47	52	51	51	52	53	52	53	52	52	51	53	52	53	54	53	53	54	54	54	54	54	53	55	55	55	55	56	55	55	55	55	55	55	55	56	56	56	56	56	56	56	55	55	56	55	56	55	55	55	55	56	55	55	55	55	55	54	55	55	55	55	55	54	54	54	54	54	54	54	54	54	54	54	54	51	52	53	53	53	54	54	53	53	53	53	53	53	54	53	53	53	53	53	53	53	53	52	52	52	53	52	53	53	53	53	54	53	54	53	54	53	54	54	53	54	54	54	54	54	54	54	54	54	55	54	55	55	55	55	55	55	55	55	55	54	55	55	55	54	55	54	54	54	54	54	54	54	54	54	54	54	54	53	53	53	54	53	53	53	53	52	52	52	52	52	52	52	51	52	51	51	51	50	50	51	49	49	50	50	50	50	51	51	50	51	50	50	50	50	49	50	50	49	49	49	49	49	48	49	49	49	48	48	47	48	48	47	47	47	48	48	48	48	48	48	48	48	48	48	48	47	47	47	48	48	49	48	49	49	49	49	49	49	48	48	48	48	48	48	48	48	48	48	48	48	48	48	48	61	4	2	3	3	5	4	2	3	3	4	3	2];
Output = [255	255	255	255	255	255	255	255	255	255	255	255	255	255	255	255	255	255	255	255	255	255	255	255	255	208	200	200	203	232	240	255	200	200	200	200	200	206	255	231	218	200	200	255	255	255	200	200	200	200	230	255	255	200	200	200	200	255	255	201	200	200	200	200	200	200	200	246	200	200	200	200	200	200	200	200	200	200	200	200	200	249	200	200	200	200	200	201	203	200	200	200	200	200	200	200	200	200	200	200	200	200	200	200	200	200	200	200	205	200	200	200	200	218	200	200	200	200	200	200	200	200	229	200	200	200	200	200	200	224	200	200	200	201	200	224	200	200	200	200	255	200	200	200	204	255	200	200	200	200	200	220	201	200	200	200	200	200	203	200	200	207	209	211	202	200	200	201	200	201	202	203	204	217	207	200	200	200	200	200	200	200	200	200	200	201	200	202	203	204	205	200	206	200	219	221	200	200	200	200	200	200	200	200	200	200	200	200	200	200	201	202	203	200	204	200	200	200	200	200	200	200	200	200	200	200	200	200	200	200	200	201	200	200	200	200	200	200	200	200	200	200	200	200	200	200	200	200	200	200	200	200	200	209	200	200	200	200	208	200	210	201	200	200	249	200	200	200	200	200	200	203	200	200	200	208	200	200	200	201	200	200	225	200	200	200	238	200	200	200	200	200	203	204	217	231	200	200	200	200	200	255	200];
    % Steady state
Setpoint = 50;
nc = numel( Input );
delay = 200; %ms
tf = delay*nc;
xc = linspace(1, tf, nc);

figure(1)
hold on
plot(xc, Input, 'b', LineWidth=1)
yline(Setpoint, 'r', LineWidth=2)
grid on
xlabel('Time (s)','interpreter','latex')
ylabel('Height (cm)','interpreter','latex')
title('$K_{p} = 5, K_{i} = 4.5, K_{d} = 5$','interpreter','latex', 'FontSize',18)



